using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;


/*
 * Zach Curll 
 */
public class SizeAndDistance : MonoBehaviour
{

    private float curDistance;
    private Vector3 startingSize;


    //You can add 2 UI ->Text objects to the project and have them display on the screen to show that the Distance and Size is actaully being recored
    //Code to do so is down below, just commented out
    //You will also have to go to your FPS Controllor where you put the script and assign the text objects to these fields
    //https://gyazo.com/04996cb922b86a207051fa1d6ae1ae0f (shows what i mean by assigning the text objects to the fields for this script)

     public Text sizeText;
     public Text distanceText;
     


    // Update is called once per frame
    void Update()
    {
        //When F is pressed Calculate the current distance from the object and the current size of the object
        if (Input.GetKeyDown(KeyCode.F))
        {
            //Center of the screen
            int x = Screen.width / 2;
            int y = Screen.height / 2;

            //Cast a ray to make sure it is making contact with an object that is pickupable
            Ray ray = Camera.main.ScreenPointToRay(new Vector3(x, y));
            RaycastHit hit;
            if (Physics.Raycast(ray, out hit))
            {
                Pickupable p = hit.collider.GetComponent<Pickupable>();
                //Make sure the object is pickupable
                if (p != null)
                {
                    //Gathers the current distance of the object at the center of the screen
                    curDistance = Vector3.Distance(p.transform.position, transform.position);
                    //Gathers the current size of the object at the center of the screen
                    startingSize = p.transform.localScale;


                    //Code used to display the Size and Distance as text
                    
                    sizeText.text = " Size " + startingSize.ToString();
                    distanceText.text = " Distance " + curDistance.ToString();
                    


                    //This is how you would change the size of the object, i'm changing the size of it by 2 atm just to show it can be changed  
                    /*
                   p.transform.localScale = startingSize * 2;
                   */

                }
            }
        }


    }

}
